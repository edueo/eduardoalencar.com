dist: xenial
sudo: required
language: node_js
node_js:
- lts/*
install:
- wget "https://github.com/gohugoio/hugo/releases/download/v${HUGO_RELEASE}/hugo_extended_${HUGO_RELEASE}_Linux-64bit.deb"
- sudo dpkg -i hugo*.deb
script:
- hugo version
- hugo
before_deploy:
- openssl aes-256-cbc -K $encrypted_db2095f63ba3_key -iv $encrypted_db2095f63ba3_iv
  -in deploy_rsa.enc -out deploy_rsa -d
- eval "$(ssh-agent -s)"
- chmod 600 /tmp/deploy_rsa
- ssh-add /tmp/deploy_rsa
- echo -e "Host ${DEPLOY_HOST}\n\tStrictHostKeyChecking no\n" >> ~/.ssh/config
deploy:
  provider: script
  skip_cleanup: true
  script: rsync -r --quiet --delete ${TRAVIS_BUILD_DIR}/public/ ${DEPLOY_USER}@${DEPLOY_HOST}:${DEPLOY_DIRECTORY}
  on:
    branch: master
env:
  global:
  - PRODUCTION=true
  - HUGO_RELEASE=0.83.1
  - secure: QJYvwA9vuxBVwz9iIczs1HJS05ZYEQfsWPTFm6hw1L92JEB61I+FpmIdZjAMl7ohV/iEwtNO7HQEwDeZq5yssfzjUPtkxllZmAgk6+RgGMvWqiBiaw2qErCtnU9Yzr8yBoPh5J3rkDW540lmyOoCw424/gm4b5SCzh5kFP4remW4LJ7GXXY2pkEqVjceaU1WUv2ikbellfJregXvLCOZPVS+hOwC47PeoMXLqMFZfP2s+CORX2YWYw/SHZQgeAV25jNR2gIzLgFwEZCLxn1VYmVZakuDNqbNVpAhlD0vuHoLTjv70UbCpZY/muXBLlN7ZeizuqKXVJWYTcND9v4fqoLAx1ahNJEz3mkecxqySj68koP9FVuebJlW33uiLuW8HUBR3qAey8AAD5HJkivEMcuCSRWZTg77zTsE56ZhIQAQPdQqsUSPsITR9plrgrYsokMorqjcHApS2sp7XzfCpODDD9CurD4tRtPetzIa7EDtgwBjpiH5S48lt6Xagd9yBXiKPLTohleCcUuOms5pWDpAnjQ3663i/LlPoGxfixUeX+t81d7aPfi1Z8H4MN/xhbj80Fwjp8/rf7LsI51BPItCEj8u9VlCbn8dEI/9gIpehlOHjfvVq+kNuyjxrS1Bp60MjRRE1uQnXIghXOvByNJquUk6zmXg1jhY9Ef9P+4=
  - secure: XkSQf/+F/iSCGwt1HxoojODdzL0BqY8ILynUHvRH5IanVt19egJ3FQpjYGGOZM6dU2iznb+rg1o/bIABNDehzYG8OpFmhjdhbiAvGi+np20CRxWVxdhTB8qpGHZbHNMwbKGT5mDYypucY5BCAhvjkxUbJRwyFgjITz0HtzheB+c/veFZi3tfbseqWlsYYl9UxdpjMDBGzGu07CZxzBmwI8D0gQ1B8UsVTtGbn3CQx5UNMkV/D0tLDNenRo3r/FvCKwr6xF19eWFaPXo/wtvyS9XTLvQhlORfr8UgNYSPhPIe0+YJr/1rrY9MDwchmDiCX/cHM5TxzclLstCASZMmlp6Yg4yRLXoi8d/1eymucmoDY6w0l/5OsbrRbFdHWsNkHF2FDr5BMpFvr6o+E485KWBQROkpFie4gIKjMOmfUhzBzTixcA9HMYUMpstED8n2PHIdgYFp+2SOwd30eZgjTafzjDiZ237P1nC1K7j2dz4jyD6J1+lG/AV/zSUNeILrj/xIZHQj/WRIfE2GaOv18hW4JdW21LCtA8cSCiv6nMW7w9aDebjDOaY4uK0/1vvjlZa4DmIgU1tncIUv4YDZcUqIX9SD79aWxr0aYc+vLvz7BOtAXT1XVbiZhH/tD1/rpjHrv+gfQUfPk9GJOvFuCvu8Y92Hh6baedJQ4lhNxUA=
  - secure: b8OzBc6soOnVVd1S+3HLxb+rAyTRLkB9TVTnKTOIIhUySXEawZo8j0MdYxqK4shf2gZLsWXz2h7zTY9nN3pDDY2EzPqis2jlWDZLz63d5gxCVwq/+N8R0axzZVc08C0w+6zN0cb9RA58LJK1ZKR79yInN+vEzWzmNXpm0cfGNkWSr2KLE6fgQqzd3VJ9eaCIUi+UvCFi7S3dFKr1eRefgAsee8A52mwh1cmNznva+uIgmTKkp4SA0HrNXcwnjcGbpiQnXRahPyygTSMGEwr1OLSM73B/h/viC8wE4LZ9tdS6/OcS03i6vtgnMYTZbKzwD8fse9d2gu+zb6ux/h5RjPop3wtb68PrZwCjwRUCrhhLSyQ0lpJBvzvWcuuwDcOLqCY3UI1pEzESTb7AHrjY823FwV5jdo4vNSB9jViwWEajE1cykTDIhf2dN9anmcz7FRFalCbrgioVTGH+V6hYqu1wxnyZvSZtuvk8C8AH6flzvWp4TnQQeQkDk09sh35Dy9HGNqQ9SFPKd6TjMWXMKCAoF4CJU+bwi1nRrGrWaltTuvRKv6CeN/z2WhjMfxAraVIWO11ga2T/HRcaNEw44A2cKcdd5LXCegfwq8E9puOluArid/jugi+qLFAJq2JUVD6ruMLrfFujqeZJrf0p2O6Q16FAVPcbpS9Rwv9B8hA=
